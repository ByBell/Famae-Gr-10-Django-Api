{% load static %}
<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>What's in my water ?</title>
</head>
<body>
	<div id="app">
		<header id="header" class="header">
			<div class="header-left">
				What's in my <span>water ?</span>
			</div>
			<div class="search-box">
				<input class="search-input" type="text" v-on:keyup="onSearch" placeholder="Search by city, supplier name..." >
				<ul v-show="results.length != 0" class="search-results">
					<li v-for="item in results" v-on:click="onMarkerClick(item.id)">
						<span>{% templatetag openvariable %} item.supplier_name {% templatetag closevariable %}</span>
						{% templatetag openvariable %} item.city {% templatetag closevariable %}
					</li>
				</ul>
			</div>
		</header>
		<div class="source-details" v-show="source.hasOwnProperty('city')">
			<div class="source-details-header">
				<h2>{% templatetag openvariable %} source.supplier_name {% templatetag closevariable %}</h2>
				<span class="source-supplier">{% templatetag openvariable %} source.city {% templatetag closevariable %}</span>
			</div>
			<div class="source-details-content">
				<div class="source-detail">
					Served by this source
					<span>{% templatetag openvariable %} source.city {% templatetag closevariable %}</span>
				</div>
				
				<table class="contaminants-table">
					<tr>
						<th>Contaminant</th>
						<th>Concentration</th>
						<th>Health limit</th>
					</tr>
					<tr v-for="contaminant in source.contaminants">
						<td>
							{% templatetag openvariable %} contaminant.contaminant {% templatetag closevariable %}
						</td>
						<td>
							{% templatetag openvariable %} contaminant.average_result {% templatetag closevariable %}
						</td>
						<td>
							{% templatetag openvariable %} contaminant.health_limit {% templatetag closevariable %}
						</td>
					</tr>

				</table>
				<ul class="source-contaminants">
					<li class="contaminant" v-for="contaminant in source.contaminants">
						<span class="contaminant-name"></span>
					</li>
				</ul>
			</div>
		</div>
		<div id="map" class="map"></div>
	</div>
	<!-- Javascript files -->
	<script src="{% static "/assets/js/app.js" %}"></script>
</body>
</html>